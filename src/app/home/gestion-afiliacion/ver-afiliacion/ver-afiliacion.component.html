<!-- <p>ver-afiliacion works!</p> -->
<div class="container">
    <h2 mat-dialog-title> Información Del Afiliado </h2>
    <form class="example-form row d-flex justify-content-center" [formGroup]="formAfiliado">

        <div class="row col-12 d-flex justify-content-end">
            <div class="col-md-4 d-flex justify-content-start">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Fecha de Afiliación</mat-label>
                    <input matInput type="text" formControlName="fecha" [readonly]="true">
                </mat-form-field>
            </div>
            <div class="col-md-3 d-flex justify-content-end">
                <mat-chip-list aria-label="Fish selection" style="margin-top: 13px;">
                    <mat-chip [color]="getStateColor()" selected>
                        {{ getStateLabel() }}
                    </mat-chip>
                </mat-chip-list>
            </div>
        </div>

        <div class="col-12">
            <h2 class="card-title pl-3 d-flex justify-content-center">Datos Personales</h2>
        </div>

        <div class="row col-12">
            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Cédula</mat-label>
                    <input matInput type="text" formControlName="cedula" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Nombre y Apellido</mat-label>
                    <input matInput type="text" formControlName="nombre_completo" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Celular</mat-label>
                    <input matInput type="text" formControlName="celular" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Dirección</mat-label>
                    <input matInput type="text" formControlName="direccion" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Correo</mat-label>
                    <input matInput type="text" formControlName="email" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Estado Civil</mat-label>
                    <input matInput type="text" formControlName="estado_civil" [readonly]="true">
                </mat-form-field>
            </div>
        </div>

        <div class="col-12">
            <h2 class="card-title pl-3 d-flex justify-content-center">Contacto de Emergencia</h2>
        </div>

        <div class="row col-12">
            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Parentesco</mat-label>
                    <input matInput type="text" formControlName="parentesco" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Nombre del Contacto</mat-label>
                    <input matInput type="text" formControlName="nombre_contacto" [readonly]="true">
                </mat-form-field>
            </div>

            <div class="col-md-4 d-flex justify-content-center">
                <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Número Celular del Contacto</mat-label>
                    <input matInput type="text" formControlName="num_celular_contacto" [readonly]="true">
                </mat-form-field>
            </div>
        </div>

        <div class="col-12">
            <h2 class="card-title pl-3 d-flex justify-content-center">Detalle del Servicio</h2>
        </div>

        <div class="row col-12">
            <table mat-table [dataSource]="dataSourceAfiliadoServicio" multiTemplateDataRows matSort>

                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> N° </th>
                    <td mat-cell *matCellDef="let element; let i = dataIndex;"> {{ i+1 }} </td>
                </ng-container>

                <ng-container matColumnDef="imagen">
                    <th mat-header-cell *matHeaderCellDef> Imagen </th>
                    <td mat-cell *matCellDef="let element">
                        <img [src]="verimg('servicios', element.imagen)" width="75px">
                    </td>
                </ng-container>

                <ng-container matColumnDef="servicio">
                    <th mat-header-cell *matHeaderCellDef> Servicio </th>
                    <td mat-cell *matCellDef="let element"> {{ element.servicio | titlecase }} </td>
                </ng-container>

                <ng-container matColumnDef="precio_servicio">
                    <th mat-header-cell *matHeaderCellDef>Precio del Servicio </th>
                    <td mat-cell *matCellDef="let element"> {{ element.precio_servicio | currency: 'USD' }} </td>
                </ng-container>

                <ng-container matColumnDef="mes">
                    <th mat-header-cell *matHeaderCellDef> Duración del mes </th>
                    <td mat-cell *matCellDef="let element"> {{ element.mes }} meses</td>
                </ng-container>

                <ng-container matColumnDef="costo_mensual">
                    <th mat-header-cell *matHeaderCellDef> Costo / Mensual </th>
                    <td mat-cell *matCellDef="let element"> {{ element.costo_mensual | currency: 'USD' }} </td>
                </ng-container>

                <ng-container matColumnDef="total">
                    <td mat-footer-cell *matFooterCellDef colspan="6">
                        <div class="footer-content">
                            Total de Costos: {{ totalCostos | currency: 'USD' }}
                        </div>
                    </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumnsAfiliadoServicio"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsAfiliadoServicio;"></tr>
                <tr mat-footer-row *matFooterRowDef="['total']" class="example-first-footer-row"></tr>
            </table>
        </div>
    </form>

    <div class="row mt-3">
        <mat-dialog-actions align="center">
            <button mat-button mat-dialog-close (click)="close()">Cerrar</button>
        </mat-dialog-actions>
    </div>
</div>