<app-breadcrumb [listaUrl]="listaUrl"></app-breadcrumb>

<section class="section dashboard">
    <div class="row">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-xxl-4 col-md-6" *ngIf="dataTotalCV">
                    <div class="card info-card sales-card">
                        <div class="card-body">
                            <h5 class="card-title"> <span> Compras</span></h5>
                            <div class="d-flex align-items-center">
                                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                    <i class="bi bi-cart"></i>
                                </div>
                                <div class="ps-3">
                                    <h6>{{ dataTotalCV.compra | currency : 'USD'}}</h6>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xxl-4 col-md-6" *ngIf="dataTotalCV">
                    <div class="card info-card revenue-card">
                        <div class="card-body">
                            <h5 class="card-title"> <span>Ventas o Pedidos</span></h5>

                            <div class="d-flex align-items-center">
                                <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                    <i class="bi bi-currency-dollar"></i>
                                </div>
                                <div class="ps-3">
                                    <h6>{{ dataTotalCV.venta | currency : 'USD'}}</h6>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-xxl-4 col-md-6" *ngIf="afiliadosActivosInactivos">
                    <div class="card info-card customers-card">
                        <div class="card-body">
                            <h5 class="card-title"> <span>{{ afiliadosActivosInactivos.nombre }}</span>  </h5>

                            <div class="container">
                                <div class="row justify-content-md-center">
                                  <div class="col col-lg-4 ">
                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-people"></i>
                                    </div>
                                  </div>
                                  <div class="col-md-auto d-flex align-items-center">
                                    <h6 style="font-size: 50px !important;" class="card-text pt-1">{{ afiliadosActivosInactivos.cantidad_activos }}</h6>
                                    <h5 class="card-title text-muted small pt-2 ps-1">Activos</h5>
                                  </div>
                                  <div class="col col-lg-4 d-flex align-items-center">
                                    <h6 style="font-size: 50px !important;" class="text-secondary small pt-1 fw-bold card-text">{{ afiliadosActivosInactivos.cantidad_inactivos }}</h6>
                                    <h5 class="card-title text-muted small pt-2 ps-1">Inactivos</h5>
                                  </div>
                                </div>
                              </div>
                        </div>
                    </div>
                </div>

                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h1 class="card-title">Gráficos Estadísticos</h1>

                            <mat-accordion class="example-headers-align">
                                <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title> Compra & Ventas </mat-panel-title>
                                        <mat-icon>equalizer</mat-icon>
                                    </mat-expansion-panel-header>
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-body">
                                                <div>
                                                    <canvas id="myChartCompraVenta"
                                                        style="min-height: 250px; height: 250px; max-height: 300px; max-width: 100%; margin-top: 22px">
                                                    </canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-expansion-panel>
                            </mat-accordion>

                            <mat-accordion class="example-headers-align">
                                <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>otro gráfico </mat-panel-title>
                                        <mat-icon>equalizer</mat-icon>
                                    </mat-expansion-panel-header>
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-body">
                                                <div>
                                                    <canvas id="myChartCompraVenta"
                                                        style="min-height: 250px; height: 250px; max-height: 300px; max-width: 100%; margin-top: 22px">
                                                    </canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-expansion-panel>
                            </mat-accordion>
                        </div>

                    </div>
                </div>

                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h1 class="card-title"> Kpis (Indicadores Claves de Desempeño)</h1>

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <div #myChartPedidos style="max-width: 450px;height: 360px;margin: 0px auto;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <div #myChart style="max-width: 450px;height: 360px;margin: 0px auto;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>